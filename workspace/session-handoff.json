{
  "session": 123,
  "date": "2026-02-13",
  "mode": "PTY",
  "status": "COMPLETED",

  "completed": [
    "S123: SDK mode PURGED — complete removal from codebase (ad447de)",
    "S123: 51 files changed, 13,100 lines deleted, 15 SDK-only files removed",
    "S123: All shared source files cleaned (daemon-handlers, terminal, triggers, renderer, etc.)",
    "S123: All SDK test files removed/cleaned (125 suites, 3158 tests passing)",
    "S123: CLAUDE.md updated — SDK references removed, PTY is only mode",
    "S123: Peer consensus (all 3 agents) — PTY superior, SDK needs clean-slate rebuild"
  ],

  "not_yet_done": [],

  "roadmap": [
    "SDK mode future: separate project folder, clean-slate rebuild, reintegrate when mature",
    "No other open roadmap items — session backlog fully cleared"
  ],

  "architecture": {
    "current_panes": {
      "1": "Architect + Frontend teammate + Reviewer teammate",
      "2": "DevOps",
      "5": "Analyst"
    },
    "model_policy": "Models are RUNTIME CONFIG, not identity. Any pane can run any CLI (Claude, Codex, Gemini). Check ui/settings.json → paneCommands for current assignments. Never hardcode model-to-pane mappings.",
    "config_source": "ui/config.js → PANE_ROLES, PANE_IDS, ROLE_ID_MAP, TRIGGER_TARGETS",
    "instance_dirs": "arch (pane 1), devops (pane 2), ana (pane 5)",
    "panes_removed": "3, 4, 6 — fully removed from config, HTML, source, tests, docs",
    "sdk_status": "PURGED (S123, ad447de). PTY is the only mode. SDK will be rebuilt separately.",
    "review_gate": "workspace/review.json + pre-commit Gate 7. Cross-model review required for non-routine changes.",
    "event_kernel": "Phase 4 complete — FULL EVENT KERNEL DEPLOYED.",
    "evidence_ledger": "RUNTIME ACTIVE (S116). Store + ingest (Slice 1) + investigator (Slice 2) + memory module (Slice 3). S121: Wired into Architect hooks.",
    "process_isolation": "ALL 3 PHASES SHIPPED.",
    "memory_management": "VALIDATED S120 — 207MB stable.",
    "promotion_engine": "FULLY SHIPPED.",
    "comms_reliability": "S122: ALL ITEMS CLOSED. H1+H2+M2+M3+M4 shipped.",
    "context_restoration": "S122: L1 CLOSED. Atomic read transaction in getLatestContext.",
    "colors_follow_model": "S122: SHIPPED (ce08315). CSS variable architecture with data-cli attribute.",
    "startup_injection": "S122: ERR-011 FIXED (f8a7e2a). Per-message verifySubmitAccepted override for Claude panes.",
    "hooks": {
      "architect": "workspace/scripts/arch-hooks.js → SessionStart, SessionEnd, PostToolUse, PreCompact",
      "analyst": "workspace/scripts/ana-hooks.js → SessionStart, SessionEnd, AfterTool",
      "devops": "No hooks — current CLI has no lifecycle hooks"
    }
  },

  "known_issues": {
    "ERR-005": "CLOSED S122. Cosmetic color bleed fixed (c38b9c5). Memory leak closed S120.",
    "ERR-011": "FIXED S122 (f8a7e2a). Pane 1 startup injection now bypasses strict submit verification.",
    "Codex exit bug (#10511)": "MEDIUM — monitor"
  },

  "stats": {
    "test_suites": 125,
    "tests_passed": 3158
  },

  "important_notes": [
    "NEVER use subagents (Task tool without team_name) — always use Agent Teams pattern",
    "Architect = coordinator, NOT implementer — delegate to Ana/DevOps/Frontend/Reviewer",
    "ALL teammates MUST be spawned with model: opus — user directive Session 90",
    "Spawn teammates ON DEMAND, not on startup — user directive Session 103",
    "When user asks for image gen/send message/etc — JUST DO IT, don't pre-check.",
    "Gate 7 pre-commit: workspace/review.json must have result=approved",
    "James reads ONLY pane 1 — all comms route through Architect. DO NOT override.",
    "MODELS ARE RUNTIME CONFIG — check ui/settings.json → paneCommands before assuming who runs what.",
    "Don't ask user 'want to restart?' — just prep handoff and say it's ready.",
    "Shut down teammates IMMEDIATELY after use — lingering teammates freeze the app.",
    "Screenshots tab stores files in workspace/screenshots/ — latest.png is always the most recent upload.",
    "SDK MODE PURGED (S123) — PTY is the only mode. SDK rebuild is a separate future project."
  ],

  "commits_this_session": [
    "ad447de refactor: purge SDK mode — PTY is the only mode"
  ],

  "cli_setup": {
    "claude": { "type": "native", "version": "2.1.32" },
    "codex": { "type": "native", "version": "0.99.0-alpha.10" },
    "gemini": { "type": "npm", "version": "0.27.0" }
  },

  "team": {
    "1": { "role": "Architect + Frontend + Reviewer (on demand)", "status": "online" },
    "2": { "role": "DevOps", "status": "online" },
    "5": { "role": "Analyst", "status": "online" },
    "_note": "CLI/model per pane is runtime config — check ui/settings.json → paneCommands"
  }
}
